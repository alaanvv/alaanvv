#!/bin/sh

device=$(lsblk -nrpo NAME,SIZE,TYPE,MOUNTPOINT \
  | awk '$3=="part" && $4=="" {printf "%-20s %10s\n", $1, $2}' \
  | fzf \
  | awk '{print $1}')

[ -z "$device" ] && exit 1

name=$(basename "$device")
mountpoint="/mnt/$name"

sudo mkdir -p "$mountpoint"
sudo mount "$device" "$mountpoint" && lf "$mountpoint"
